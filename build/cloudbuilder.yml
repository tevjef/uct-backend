steps:
  - name: 'gcr.io/cloud-builders/gcloud'
      args: [ 'functions',
              'deploy',
              'hermes',
              '--trigger-event',
              'providers/cloud.firestore/eventTypes/document.update',
              '--trigger-resource',
              'projects/universitycoursetracker/databases/(default)/documents/section.topicName/{topicName}',
              '--memory',
              '128',
              '--runtime',
              'go113',
              '--entry-point',
              'HelloFirestore'
      ]
  - name: 'gcr.io/cloud-builders/gcloud'
    args: [ 'functions',
            'deploy',
            'ein',
            '--trigger-http',
            '--memory',
            '256',
            '--timeout',
            '120',
            '--runtime',
            'go113',
            '--entry-point',
            'Ein',
            '--set-env-vars',
            'EIN_INPUT_FORMAT=protobuf'
    ]
  - name: 'gcr.io/cloud-builders/gcloud'
    args: [ 'functions',
            'deploy',
            'rutgers-nb',
            '--trigger-http',
            '--memory',
            '128',
            '--runtime',
            'go113',
            '--entry-point',
            'RutgersScraper',
            '--set-env-vars',
            'RUTGERS_CAMPUS=NB,OUTPUT_HTTP_URL=https://us-central1-universitycoursetracker.cloudfunctions.net/ein'
    ]
  - name: 'gcr.io/cloud-builders/gcloud'
    args: [ 'functions',
            'deploy',
            'rutgers-nk',
            '--trigger-http',
            '--memory',
            '128',
            '--runtime',
            'go113',
            '--entry-point',
            'RutgersScraper',
            '--set-env-vars',
            'RUTGERS_CAMPUS=NK,OUTPUT_HTTP_URL=https://us-central1-universitycoursetracker.cloudfunctions.net/ein'
    ]
  - name: 'gcr.io/cloud-builders/gcloud'
    args: [ 'functions',
            'deploy',
            'rutgers-cm',
            '--trigger-http',
            '--memory',
            '128',
            '--runtime',
            'go113',
            '--entry-point',
            'RutgersScraper',
            '--set-env-vars',
            'RUTGERS_CAMPUS=CM,OUTPUT_HTTP_URL=https://us-central1-universitycoursetracker.cloudfunctions.net/ein'
    ]